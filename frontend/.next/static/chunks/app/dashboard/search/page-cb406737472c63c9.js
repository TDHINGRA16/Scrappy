(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[382],{186:(e,t,r)=>{"use strict";r.d(t,{Fc:()=>o,TN:()=>d});var s=r(8081),a=r(2149),n=r(3484),i=r(7687);let l=(0,n.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),o=a.forwardRef((e,t)=>{let{className:r,variant:a,...n}=e;return(0,s.jsx)("div",{ref:t,role:"alert",className:(0,i.cn)(l({variant:a}),r),...n})});o.displayName="Alert",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("h5",{ref:t,className:(0,i.cn)("mb-1 font-medium leading-none tracking-tight",r),...a})}).displayName="AlertTitle";let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("text-sm [&_p]:leading-relaxed",r),...a})});d.displayName="AlertDescription"},900:(e,t,r)=>{"use strict";r.d(t,{p:()=>i});var s=r(8081),a=r(2149),n=r(7687);let i=a.forwardRef((e,t)=>{let{className:r,type:a,...i}=e;return(0,s.jsx)("input",{type:a,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:t,...i})});i.displayName="Input"},1812:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>S});var s=r(8081),a=r(2149),n=r(9651),i=r(5160),l=r(900),o=r(4666),d=r(6810),c=r(7890),u=r(8091),f=r(2433),m=r(392),x=r(6801),p=r(6722),h=r(7687);let g=f.bL;f.YJ;let v=f.WT,b=a.forwardRef((e,t)=>{let{className:r,children:a,...n}=e;return(0,s.jsxs)(f.l9,{ref:t,className:(0,h.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",r),...n,children:[a,(0,s.jsx)(f.In,{asChild:!0,children:(0,s.jsx)(m.A,{className:"h-4 w-4 opacity-50"})})]})});b.displayName=f.l9.displayName;let y=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(f.PP,{ref:t,className:(0,h.cn)("flex cursor-default items-center justify-center py-1",r),...a,children:(0,s.jsx)(x.A,{className:"h-4 w-4"})})});y.displayName=f.PP.displayName;let j=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(f.wn,{ref:t,className:(0,h.cn)("flex cursor-default items-center justify-center py-1",r),...a,children:(0,s.jsx)(m.A,{className:"h-4 w-4"})})});j.displayName=f.wn.displayName;let w=a.forwardRef((e,t)=>{let{className:r,children:a,position:n="popper",...i}=e;return(0,s.jsx)(f.ZL,{children:(0,s.jsxs)(f.UC,{ref:t,className:(0,h.cn)("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",r),position:n,...i,children:[(0,s.jsx)(y,{}),(0,s.jsx)(f.LM,{className:(0,h.cn)("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:a}),(0,s.jsx)(j,{})]})})});w.displayName=f.UC.displayName,a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(f.JU,{ref:t,className:(0,h.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",r),...a})}).displayName=f.JU.displayName;let N=a.forwardRef((e,t)=>{let{className:r,children:a,...n}=e;return(0,s.jsxs)(f.q7,{ref:t,className:(0,h.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),...n,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(f.VF,{children:(0,s.jsx)(p.A,{className:"h-4 w-4"})})}),(0,s.jsx)(f.p4,{children:a})]})});N.displayName=f.q7.displayName,a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(f.wv,{ref:t,className:(0,h.cn)("-mx-1 my-1 h-px bg-muted",r),...a})}).displayName=f.wv.displayName;var C=r(7849),R=r(186),k=r(7363);function S(){let e=(0,n.useRouter)(),[t,r]=(0,a.useState)(""),[f,m]=(0,a.useState)("10"),[x,p]=(0,a.useState)("google_maps"),[h,y]=(0,a.useState)("scrape_only"),[j,S]=(0,a.useState)("email"),[_,F]=(0,a.useState)("Hi {name}, I'd like to connect with you about your business."),[E,J]=(0,a.useState)(""),[A,z]=(0,a.useState)(!1),B=async r=>{r.preventDefault(),z(!0),J("");try{let r=localStorage.getItem("token"),s=await fetch("/api/search/",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)},body:JSON.stringify({query:t,limit:Number.parseInt(f),mode:h,message_type:j,prewritten_message:_,source:x})}),a=await s.json();if(!s.ok)throw Error(a.detail||"Failed to create search job");e.push("/dashboard/jobs/".concat(a.job_id))}catch(e){J(e instanceof Error?e.message:"Failed to create search job")}finally{z(!1)}};return(0,s.jsxs)("div",{className:"space-y-6 bg-white min-h-screen p-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{style:{height:"50px",width:"300px",marginBottom:"10px"},children:(0,s.jsx)(k.A,{text:"CREATE SEARCH JOB",flex:!0,alpha:!1,stroke:!1,width:!0,weight:!0,italic:!0,textColor:"#000000",minFontSize:18})}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Set up a new scraping job to find and contact businesses"})]}),(0,s.jsx)(d.Zp,{children:(0,s.jsxs)("form",{onSubmit:B,children:[(0,s.jsxs)(d.aR,{children:[(0,s.jsx)(d.ZB,{children:"Search Parameters"}),(0,s.jsx)(d.BT,{children:"Define what you want to search for"})]}),(0,s.jsxs)(d.Wu,{className:"space-y-4",children:[E&&(0,s.jsxs)(R.Fc,{variant:"destructive",children:[(0,s.jsx)(C.A,{className:"h-4 w-4"}),(0,s.jsx)(R.TN,{children:E})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(c.J,{htmlFor:"query",children:"Search Query"}),(0,s.jsx)(l.p,{id:"query",placeholder:"e.g., restaurants in New York",value:t,onChange:e=>r(e.target.value),required:!0})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(c.J,{htmlFor:"limit",children:"Result Limit"}),(0,s.jsxs)(g,{value:f,onValueChange:m,children:[(0,s.jsx)(b,{children:(0,s.jsx)(v,{placeholder:"Select limit"})}),(0,s.jsxs)(w,{children:[(0,s.jsx)(N,{value:"5",children:"5 results"}),(0,s.jsx)(N,{value:"10",children:"10 results"}),(0,s.jsx)(N,{value:"25",children:"25 results"}),(0,s.jsx)(N,{value:"50",children:"50 results"}),(0,s.jsx)(N,{value:"100",children:"100 results"})]})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(c.J,{children:"Search Source"}),(0,s.jsx)(u.z,{value:x,onValueChange:p,disabled:!0,children:(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(u.C,{value:"google_maps",id:"google_maps"}),(0,s.jsx)(c.J,{htmlFor:"google_maps",children:"Google Maps"})]})}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Scrapes Google Maps using Selenium for local businesses with contact information."})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(c.J,{children:"Mode"}),(0,s.jsxs)(u.z,{value:h,onValueChange:y,children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(u.C,{value:"scrape_only",id:"scrape_only"}),(0,s.jsx)(c.J,{htmlFor:"scrape_only",children:"Scrape Only"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(u.C,{value:"scrape_and_contact",id:"scrape_and_contact"}),(0,s.jsx)(c.J,{htmlFor:"scrape_and_contact",children:"Scrape and Contact"})]})]})]}),"scrape_and_contact"===h&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(c.J,{children:"Contact Method"}),(0,s.jsxs)(u.z,{value:j,onValueChange:S,children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(u.C,{value:"email",id:"email"}),(0,s.jsx)(c.J,{htmlFor:"email",children:"Email"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(u.C,{value:"whatsapp",id:"whatsapp"}),(0,s.jsx)(c.J,{htmlFor:"whatsapp",children:"WhatsApp"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(u.C,{value:"both",id:"both"}),(0,s.jsx)(c.J,{htmlFor:"both",children:"Both"})]})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(c.J,{htmlFor:"message",children:"Message Template"}),(0,s.jsx)(o.T,{id:"message",placeholder:"Enter your message template. Use {name} for business name.",value:_,onChange:e=>F(e.target.value),rows:4}),(0,s.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Use ","{name}"," to insert the business name in your message."]})]})]})]}),(0,s.jsx)(d.wL,{children:(0,s.jsx)(i.$,{type:"submit",disabled:A,children:A?"Creating Job...":"Create Search Job"})})]})})]})}},4666:(e,t,r)=>{"use strict";r.d(t,{T:()=>i});var s=r(8081),a=r(2149),n=r(7687);let i=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("textarea",{className:(0,n.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:t,...a})});i.displayName="Textarea"},5160:(e,t,r)=>{"use strict";r.d(t,{$:()=>d});var s=r(8081),a=r(2149),n=r(9907),i=r(3484),l=r(7687);let o=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef((e,t)=>{let{className:r,variant:a,size:i,asChild:d=!1,...c}=e,u=d?n.DX:"button";return(0,s.jsx)(u,{className:(0,l.cn)(o({variant:a,size:i,className:r})),ref:t,...c})});d.displayName="Button"},6810:(e,t,r)=>{"use strict";r.d(t,{BT:()=>d,Wu:()=>c,ZB:()=>o,Zp:()=>i,aR:()=>l,wL:()=>u});var s=r(8081),a=r(2149),n=r(7687);let i=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...a})});i.displayName="Card";let l=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",r),...a})});l.displayName="CardHeader";let o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",r),...a})});o.displayName="CardTitle";let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",r),...a})});d.displayName="CardDescription";let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",r),...a})});c.displayName="CardContent";let u=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",r),...a})});u.displayName="CardFooter"},7363:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var s=r(8081),a=r(2149);let n=e=>{let{text:t="Compressa",fontFamily:r="Compressa VF",fontUrl:n="https://res.cloudinary.com/dr6lvwubh/raw/upload/v1529908256/CompressaPRO-GX.woff2",width:i=!0,weight:l=!0,italic:o=!0,alpha:d=!1,flex:c=!0,stroke:u=!1,scale:f=!1,textColor:m="#000000",strokeColor:x="#FF0000",strokeWidth:p=2,className:h="",minFontSize:g=24}=e,v=(0,a.useRef)(null),b=(0,a.useRef)(null),y=(0,a.useRef)([]),j=(0,a.useRef)({x:0,y:0}),w=(0,a.useRef)({x:0,y:0}),[N,C]=(0,a.useState)(g),[R,k]=(0,a.useState)(1),[S,_]=(0,a.useState)(1),F=t.split(""),E=(e,t)=>{let r=t.x-e.x,s=t.y-e.y;return Math.sqrt(r*r+s*s)};(0,a.useEffect)(()=>{let e=e=>{w.current.x=e.clientX,w.current.y=e.clientY},t=e=>{let t=e.touches[0];w.current.x=t.clientX,w.current.y=t.clientY};if(window.addEventListener("mousemove",e),window.addEventListener("touchmove",t,{passive:!1}),v.current){let{left:e,top:t,width:r,height:s}=v.current.getBoundingClientRect();j.current.x=e+r/2,j.current.y=t+s/2,w.current.x=j.current.x,w.current.y=j.current.y}return()=>{window.removeEventListener("mousemove",e),window.removeEventListener("touchmove",t)}},[]);let J=()=>{if(!v.current||!b.current)return;let{width:e,height:t}=v.current.getBoundingClientRect(),r=e/(F.length/2);C(r=Math.max(r,g)),k(1),_(1),requestAnimationFrame(()=>{if(!b.current)return;let e=b.current.getBoundingClientRect();if(f&&e.height>0){let r=t/e.height;k(r),_(r)}})};return(0,a.useEffect)(()=>(J(),window.addEventListener("resize",J),()=>window.removeEventListener("resize",J)),[f,t]),(0,a.useEffect)(()=>{let e;let t=()=>{if(j.current.x+=(w.current.x-j.current.x)/15,j.current.y+=(w.current.y-j.current.y)/15,b.current){let e=b.current.getBoundingClientRect().width/2;y.current.forEach(t=>{if(!t)return;let r=t.getBoundingClientRect(),s={x:r.x+r.width/2,y:r.y+r.height/2},a=E(j.current,s),n=(t,r,s)=>Math.max(r,s-Math.abs(s*t/e)+r),c=i?Math.floor(n(a,5,200)):100,u=l?Math.floor(n(a,100,900)):400,f=o?n(a,0,1).toFixed(2):"0",m=d?n(a,0,1).toFixed(2):"1";t.style.opacity=m,t.style.fontVariationSettings="'wght' ".concat(u,", 'wdth' ").concat(c,", 'ital' ").concat(f)})}e=requestAnimationFrame(t)};return t(),()=>cancelAnimationFrame(e)},[i,l,o,d,F.length]),(0,s.jsxs)("div",{ref:v,className:"relative w-full h-full overflow-hidden bg-transparent ".concat(h),children:[(0,s.jsx)("style",{children:"\n        @font-face {\n          font-family: '".concat(r,"';\n          src: url('").concat(n,"');\n          font-style: normal;\n        }\n        .stroke span {\n          position: relative;\n          color: ").concat(m,";\n        }\n        .stroke span::after {\n          content: attr(data-char);\n          position: absolute;\n          left: 0;\n          top: 0;\n          color: transparent;\n          z-index: -1;\n          -webkit-text-stroke-width: ").concat(p,"px;\n          -webkit-text-stroke-color: ").concat(x,";\n        }\n      ")}),(0,s.jsxs)("h1",{ref:b,className:"text-pressure-title ".concat(c?"flex justify-between":""," ").concat(u?"stroke":""," uppercase text-center"),style:{fontFamily:r,fontSize:N,lineHeight:S,transform:"scale(1, ".concat(R,")"),transformOrigin:"center top",margin:0,fontWeight:100,color:u?void 0:m},children:["                ",F.map((e,t)=>(0,s.jsx)("span",{ref:e=>{y.current[t]=e},"data-char":e,className:"inline-block",children:e},t))]})]})}},7687:(e,t,r)=>{"use strict";r.d(t,{cn:()=>n});var s=r(6522),a=r(4483);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.QP)((0,s.$)(t))}},7890:(e,t,r)=>{"use strict";r.d(t,{J:()=>d});var s=r(8081),a=r(2149),n=r(9591),i=r(3484),l=r(7687);let o=(0,i.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(n.b,{ref:t,className:(0,l.cn)(o(),r),...a})});d.displayName=n.b.displayName},8091:(e,t,r)=>{"use strict";r.d(t,{C:()=>d,z:()=>o});var s=r(8081),a=r(2149),n=r(8924),i=r(8022),l=r(7687);let o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(n.bL,{className:(0,l.cn)("grid gap-2",r),...a,ref:t})});o.displayName=n.bL.displayName;let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(n.q7,{ref:t,className:(0,l.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),...a,children:(0,s.jsx)(n.C1,{className:"flex items-center justify-center",children:(0,s.jsx)(i.A,{className:"h-2.5 w-2.5 fill-current text-current"})})})});d.displayName=n.q7.displayName},9692:(e,t,r)=>{Promise.resolve().then(r.bind(r,1812))}},e=>{var t=t=>e(e.s=t);e.O(0,[741,584,335,497,573,358],()=>t(9692)),_N_E=e.O()}]);